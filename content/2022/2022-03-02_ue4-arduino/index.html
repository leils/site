<!DOCTYPE html>
<link rel="stylesheet" href="/bundle.css">
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Unreal Plant</title>
	</head>
	<body>
        <div class="siteheader">
            <div class="heroline secrethint" id="heroline">~ lsc ~ this site is pre-fermenting* ~</div>
        </div>

		<div class="navigation">
			<a href="/">the work</a>
			<a href="/about">about</a>
			<a href="/everything-else">everything else</a>
			
		</div>
		  <div class="content-background">
  <div class="blogHeader">
    <h1>Unreal Plant</h1>
    <hr>
    
      <picture><source type="image/webp" srcset="/content/2022/2022-03-02_ue4-arduino/ldRdMW9fRI-1870.webp 1870w"><img alt="./hero-unreal-plant.png" src="/content/2022/2022-03-02_ue4-arduino/ldRdMW9fRI-1870.jpeg" width="1870" height="876"></picture>
    
  </div>
    <p>I seem to have a bit of a theme with plants; here's a plant that lives somewhere in between the digital and physical world.</p>
<div id="JPoUF5xHRXs" class="eleventy-plugin-youtube-embed" style="position:relative;width:100%;padding-top: 56.25%;"><iframe style="position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;" width="100%" height="100%" frameborder="0" title="Embedded YouTube video" src="https://www.youtube-nocookie.com/embed/JPoUF5xHRXs" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div>
<p><a href="https://github.com/leils/spring_2022_theme_park_eng/blob/main/unreal_interactive_plant/unreal_plant/unreal_plant.ino">Arduino code is available on GitHub here.</a></p>
<p>There are three things happening here:</p>
<ul>
<li>Light detection on the physical plant, which turns on a spotlight over the digital plant</li>
<li>A keypress interaction that &quot;waters&quot; both the digital and physical plant. The digital plant's box turns blue, and the physical plant shakes under the &quot;pouring water&quot;.</li>
<li>A character-object interaction that also generates the physical &quot;pouring water&quot; action. The character has a forward vector trace, and may interact with designated interactable objects with the E keypress.</li>
</ul>
<p>I started this with just a button press.</p>
<div id="0dxa2UEIV90" class="eleventy-plugin-youtube-embed" style="position:relative;width:100%;padding-top: 56.25%;"><iframe style="position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;" width="100%" height="100%" frameborder="0" title="Embedded YouTube video" src="https://www.youtube-nocookie.com/embed/0dxa2UEIV90" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div>
<p>The light-sensitive plant is a <a href="https://www.leiac.me/2021/2021-12-21_bloom-together/">spin in an earlier project of mine</a>, where plants bloomed only when a light was shone at its leaves. Then, we’d used a simple html page to scrub back and forth through the video, and later tried to get it working with Unity.
The connection over OSC was much easier to manage and simpler to put together, versus trying to get everything to communicate over serial.</p>
<p><picture><source type="image/webp" srcset="/content/2022/2022-03-02_ue4-arduino/gAOT5Fi1en-684.webp 684w"><img src="/content/2022/2022-03-02_ue4-arduino/gAOT5Fi1en-684.jpeg" alt="Max patch" width="684" height="417"></picture>
<picture><source type="image/webp" srcset="/content/2022/2022-03-02_ue4-arduino/z4nq4o7Rmw-2031.webp 2031w"><img src="/content/2022/2022-03-02_ue4-arduino/z4nq4o7Rmw-2031.jpeg" alt="Blueprint for lighting" width="2031" height="1168"></picture></p>
<p>The “watering” portion of things is where I found the most difficulty. On the physical end is just a servo attached loosely to the end of the plant, twitching back and forth and making the leaves shake.
On the Unreal side was an entirely new set of tools that I was (and still am) unfamiliar with. I first tried to put together an interactable object following <a href="https://www.youtube.com/watch?v=sjrM9vb73MM">this tutorial</a>, which attaches a forward gaze vector to the first person camera. The level I’d chosen to work with had a third person game setup, so I had to tweak that to match. The third person camera was consistently behind the character as well, which meant the forward gaze lines often were blocked by the character mesh.
After I’d done a bunch of work, the setup looked like this:</p>
<p><picture><source type="image/webp" srcset="/content/2022/2022-03-02_ue4-arduino/3JJJzg7pxD-2078.webp 2078w"><img src="/content/2022/2022-03-02_ue4-arduino/3JJJzg7pxD-2078.jpeg" alt="Interactable Object Blueprint" width="2078" height="735"></picture>
<picture><source type="image/webp" srcset="/content/2022/2022-03-02_ue4-arduino/9LDdIm8PB4-1869.webp 1869w"><img src="/content/2022/2022-03-02_ue4-arduino/9LDdIm8PB4-1869.jpeg" alt="Third Person Character forward tracing" width="1869" height="917"></picture>
<picture><source type="image/webp" srcset="/content/2022/2022-03-02_ue4-arduino/xZs5cqcd9M-1862.webp 1862w"><img src="/content/2022/2022-03-02_ue4-arduino/xZs5cqcd9M-1862.jpeg" alt="Third Person Character interact script" width="1862" height="938"></picture></p>
<p>But then, I couldn’t figure out how to get the interact event to be passed around to other objects in order to change the color of the glass.
I ended up making a separate keypress interaction with the whole plant display in order to both send the OSC message and change the glass color.</p>
<p><picture><source type="image/webp" srcset="/content/2022/2022-03-02_ue4-arduino/Gp04nK-vwF-1885.webp 1885w"><img src="/content/2022/2022-03-02_ue4-arduino/Gp04nK-vwF-1885.jpeg" alt="Blueprint for watering" width="1885" height="702"></picture></p>
<p><em>Oops ... I forgot to remove the color-change on the light (where I'd previously used the light instead of glass to indicate watering).</em></p>
<p>Finally, I had attempted to make a rain effect by copying over some physics simulation from another project but was so utterly over my head that I set it aside for another day.</p>
<hr>
<h2>Other chores</h2>
<p><picture><source type="image/webp" srcset="/content/2022/2022-03-02_ue4-arduino/1_P_68CMuN-2574.webp 2574w"><img src="/content/2022/2022-03-02_ue4-arduino/1_P_68CMuN-2574.jpeg" alt="Materials lesson complete" width="2574" height="848"></picture></p>

  </div>
  <div class="blogFooter">
    <p> Posted/updated 2022-03-02 </p>

    
      <div class="pageTags">
        
        Tagged: 
        
           <a href="/tags/content">content</a>
          , <a href="/tags/theme-park-eng">theme-park-eng</a>
          , <a href="/tags/itp">itp</a>
          , <a href="/tags/experiment">experiment</a>
          , <a href="/tags/physical-computing">physical computing</a>
          , <a href="/tags/virtual">virtual</a>
      </div>
    
    
      <div class="pageTech">
        Tech: 
        
          , <a href="/tech/Arduino">Arduino</a>
          , <a href="/tech/Unreal Engine">Unreal Engine</a>
          , <a href="/tech/Max">Max</a>
          , <a href="/tech/OSC">OSC</a>
      </div>
    
  </div>

		<hr>

		<div class="footer">
			<p>you can also find me on <a href="https://www.instagram.com/leia.make/">instagram</a> and <span id="findline" class="secrethint">offline elsewhere*</span>.</p>
			<a href="/absolutely-everything">appendix</a>
		</div>
		<dialog id="herodialog">
			<p>pre-fermenting: ingredients have been mixed, roughly stirred by hand, water and flour and the magic in the air, this will become something new and the change is rapid but we just have to wait to see when it'll be ready</p>
			<form method="dialog">
				<button id="heroCloseBtn">OK</button>
			</form>
		</dialog>

		<dialog id="finddialog">
			<p>* also found frequently in sunlight, on the pier, in the middle of it all, at a cafe table
			</p><form method="dialog">
				<button id="findCloseBtn">OK</button>
			</form>
		</dialog>

		<script>
			const heroline = document.getElementById("heroline");
			const herodialog = document.getElementById("herodialog");
			const herocloseBtn = document.getElementById("heroCloseBtn");

			heroline.addEventListener("click", () => {
				herodialog.showModal();
			});

			herocloseBtn.addEventListener("click", () => {
				herodialog.close();
			});

			const findline = document.getElementById("findline");
			const finddialog = document.getElementById("finddialog");
			const findCloseBtn = document.getElementById("findCloseBtn");

			findline.addEventListener("click", () => {
				finddialog.showModal();
			});

			findCloseBtn.addEventListener("click", () => {
				finddialog.close();
			});
		</script>

	</body>
</html>

<!doctype html>
<link rel="stylesheet" href="/bundle.css">
